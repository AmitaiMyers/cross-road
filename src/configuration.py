# ==========================================
#        SECTION 1: CONFIGURATION
# ==========================================
WIDTH, HEIGHT = 1000, 1000  # Bigger window for bigger roads
FPS = 60
LANE_WIDTH = 40  # Slightly narrower lanes to fit 2 per side
TURN_RADIUS = LANE_WIDTH * 0.75
STOP_DIST = 40
SECONDS_PER_SIM_HOUR = 10
START_HOUR = 6

# --- TRAFFIC SCHEDULE ---
DEFAULT_RATE = 0.20

# Vehicles spawn from 8 approaches (4 directions Ã— 2 lanes: Straight/Left)
SPAWN_LANE_INDICES = (0, 1, 2, 3, 4, 5, 6, 7)

# --- TRAFFIC SCHEDULE ---
# Keys: 0=N_Str, 1=N_Left, 2=S_Str, 3=S_Left, 4=E_Str, 5=E_Left, 6=W_Str, 7=W_Left
# Rates: 0.01 = Light, 0.03 = Medium, 0.06+ = Heavy Jam

# Keys: 0=N_Str, 1=N_Left, 2=S_Str, 3=S_Left, 4=E_Str, 5=E_Left, 6=W_Str, 7=W_Left
HOURLY_TRAFFIC = {
    # Hour: {0:N_Str, 1:N_Left, 2:S_Str, 3:S_Left, 4:E_Str, 5:E_Left, 6:W_Str, 7:W_Left}
    0:  {0: 0.10, 1: 0.20, 2: 0.00, 3: 0.00, 4: 0.01, 5: 0.00, 6: 0.01, 7: 0.00},
    1:  {0: 0.10, 1: 0.20, 2: 0.00, 3: 0.00, 4: 0.01, 5: 0.00, 6: 0.00, 7: 0.00},
    2:  {0: 0.10, 1: 0.20, 2: 0.00, 3: 0.00, 4: 0.00, 5: 0.00, 6: 0.00, 7: 0.00},
    3:  {0: 0.00, 1: 0.00, 2: 0.00, 3: 0.40, 4: 0.00, 5: 0.00, 6: 0.30, 7: 0.00},
    4:  {0: 0.00, 1: 0.00, 2: 0.01, 3: 0.00, 4: 0.00, 5: 0.03, 6: 0.21, 7: 0.00},
    5:  {0: 0.00, 1: 0.00, 2: 0.02, 3: 0.01, 4: 0.02, 5: 0.30, 6: 0.22, 7: 0.00},

    # Morning ramp: heavy from NORTH and EAST during commute
    6:  {0: 0.12, 1: 0.08, 2: 0.04, 3: 0.03, 4: 0.18, 5: 0.10, 6: 0.03, 7: 0.02},
    7:  {0: 0.30, 1: 0.18, 2: 0.04, 3: 0.02, 4: 0.35, 5: 0.20, 6: 0.05, 7: 0.02},  # massive from N & E
    8:  {0: 0.40, 1: 0.22, 2: 0.05, 3: 0.03, 4: 0.38, 5: 0.24, 6: 0.06, 7: 0.03},  # peak
    9:  {0: 0.22, 1: 0.12, 2: 0.06, 3: 0.04, 4: 0.20, 5: 0.10, 6: 0.08, 7: 0.04},

    # Midday: shift heavy flows to EAST and SOUTH for deliveries / cross traffic
    10: {0: 0.08, 1: 0.04, 2: 0.18, 3: 0.12, 4: 0.28, 5: 0.14, 6: 0.06, 7: 0.03},
    11: {0: 0.06, 1: 0.03, 2: 0.30, 3: 0.18, 4: 0.22, 5: 0.12, 6: 0.05, 7: 0.03},
    12: {0: 0.04, 1: 0.02, 2: 0.38, 3: 0.24, 4: 0.16, 5: 0.08, 6: 0.04, 7: 0.02},  # lunch surge from SOUTH
    13: {0: 0.05, 1: 0.02, 2: 0.34, 3: 0.20, 4: 0.12, 5: 0.06, 6: 0.05, 7: 0.02},
    14: {0: 0.06, 1: 0.03, 2: 0.22, 3: 0.12, 4: 0.14, 5: 0.07, 6: 0.08, 7: 0.04},

    # Afternoon: build toward evening peak with heavy flow from WEST
    15: {0: 0.08, 1: 0.04, 2: 0.16, 3: 0.10, 4: 0.10, 5: 0.06, 6: 0.26, 7: 0.14},
    16: {0: 0.10, 1: 0.06, 2: 0.12, 3: 0.08, 4: 0.08, 5: 0.04, 6: 0.40, 7: 0.22},  # western peak
    17: {0: 0.12, 1: 0.08, 2: 0.38, 3: 0.24, 4: 0.06, 5: 0.03, 6: 0.36, 7: 0.20},  # combined S & W heavy
    18: {0: 0.08, 1: 0.04, 2: 0.42, 3: 0.26, 4: 0.04, 5: 0.02, 6: 0.30, 7: 0.18},  # evening peak (massive)
    19: {0: 0.06, 1: 0.03, 2: 0.30, 3: 0.18, 4: 0.06, 5: 0.03, 6: 0.20, 7: 0.10},

    # Late evening: flows taper and rotate back to NORTH
    20: {0: 0.18, 1: 0.10, 2: 0.10, 3: 0.06, 4: 0.04, 5: 0.02, 6: 0.08, 7: 0.04},
    21: {0: 0.12, 1: 0.06, 2: 0.06, 3: 0.03, 4: 0.03, 5: 0.02, 6: 0.06, 7: 0.03},
    22: {0: 0.04, 1: 0.02, 2: 0.02, 3: 0.01, 4: 0.02, 5: 0.01, 6: 0.02, 7: 0.01},
    23: {0: 0.02, 1: 0.01, 2: 0.01, 3: 0.00, 4: 0.01, 5: 0.00, 6: 0.01, 7: 0.00},
}
# --- COLORS ---
WHITE = (240, 240, 240)
GRAY = (50, 50, 50)
DARK_GRAY = (30, 30, 30)
YELLOW = (255, 200, 0)
RED = (255, 50, 50)
GREEN = (50, 200, 50)
BLACK = (0, 0, 0)
BLUE_UI = (20, 20, 60)
ORANGE_UI = (200, 100, 0)
CYAN = (0, 200, 200)  # Left turn lane color hint
